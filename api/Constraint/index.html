<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Constraint - pg-structure 2.0.0-alpha.7</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Constraint";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45732546-4', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> pg-structure 2.0.0-alpha.7</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../concepts/">Concepts</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../examples/">Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../history/">History</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../license/">License</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../report/">Test & Coverage Report</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>API</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Column/">Column</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Constraint</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#constraint">Constraint</a></li>
                
                    <li><a class="toctree-l4" href="#notes-for-through-constraints">Notes for Through Constraints </a></li>
                
                    <li><a class="toctree-l4" href="#new-constraintargs">new Constraint(args)</a></li>
                
                    <li><a class="toctree-l4" href="#constraintname-string">constraint.name : string</a></li>
                
                    <li><a class="toctree-l4" href="#constraintfullname-string">constraint.fullName : string</a></li>
                
                    <li><a class="toctree-l4" href="#constraintfullcatalogname-string">constraint.fullCatalogName : string</a></li>
                
                    <li><a class="toctree-l4" href="#constrainttype-contsrainttype">constraint.type : contsraintType</a></li>
                
                    <li><a class="toctree-l4" href="#constraintchild-table">constraint.child : Table</a></li>
                
                    <li><a class="toctree-l4" href="#constrainttable-table">constraint.table : Table</a></li>
                
                    <li><a class="toctree-l4" href="#constraintdb-db">constraint.db : DB</a></li>
                
                    <li><a class="toctree-l4" href="#constraintschema-schema">constraint.schema : Schema</a></li>
                
                    <li><a class="toctree-l4" href="#constraintonupdate-constraintrule-null">constraint.onUpdate : constraintRule &#124; null</a></li>
                
                    <li><a class="toctree-l4" href="#constraintondelete-constraintrule-null">constraint.onDelete : constraintRule &#124; null</a></li>
                
                    <li><a class="toctree-l4" href="#constraintreferencedtable-table-null">constraint.referencedTable : Table &#124; null</a></li>
                
                    <li><a class="toctree-l4" href="#constraintparent-table-null">constraint.parent : Table &#124; null</a></li>
                
                    <li><a class="toctree-l4" href="#constraintcolumns-arraycolumn-null">constraint.columns : Array.&lt;Column&gt; &#124; null</a></li>
                
                    <li><a class="toctree-l4" href="#constraintcolumnsbyname-objectstring-column-null">constraint.columnsByName : Object.&lt;string, Column&gt; &#124; null</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../DB/">DB</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Index/">Index</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../M2MRelation/">M2M Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../M2ORelation/">M2O Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../O2MRelation/">O2M Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../PgStructure/">pgStructure</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Relation/">Relation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Schema/">Schema</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Table/">Table</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">pg-structure 2.0.0-alpha.7</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>API &raquo;</li>
        
      
    
    <li>Constraint</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/ozum/pg-structure.git" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><a name="Constraint"></a></p>
<h2 id="constraint">Constraint</h2>
<p>Class which represent a constraint. Provides attributes and methods for details of the constraint.</p>
<h4 id="notes-for-through-constraints">Notes for Through Constraints <span id="notes"></span></h4>
<p>Through constraints are used for many to many relationships. Actually there isn't such a thing called
<strong>many to many relationship</strong> or <strong>through constraint</strong> in the database engine. They are concepts to describe
records which may be related more than one record on both sides. For example an invoice may contain more than product and
a product may related to more than one invoice. Those relationships are solved a so called many to many <strong>join table</strong>.</p>
<p>Constraint class supports many to many relationships. Since those constraints are not present in database engine,
they are extracted by estimation/interpretation. Many non-join tables in a database could have more than one
foreign key constraints, and they may not meant to be join tables, but they have still through relationships .</p>
<p><span id="exampleSchema"></span>Below is a database schema as an example:</p>
<pre><code>size -------------------
id (PK)                |  ---------------------------&lt; line_item &gt;------------ cart
name                   |  |                            product_id (PFK)        id (PK)
                       |  |                            cart_id    (PFK)        name
                       ^  |
color -------------&lt; product &gt;------------- vendor
id (PK)              id        (PK)         id (PK)
name                 name                   name
                     color_id  (FK)
                     size_id   (FK)
                     vendor_id (FK)
</code></pre>

<p>Below is the same schema as image:
<img alt="Database Schema" src="../../../images/schema-through.png" /></p>
<p>Product table has 3 foreign key constraints. It is obvious that product table is not meant to be a many to many join table.
However product could have been join table for <code>size &amp; vendor</code>, <code>color &amp; vendor</code> and <code>size &amp; color</code>. As a result size,
color and vendor tables would have many to many <code>through constraints</code>.</p>
<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#Constraint">Constraint</a></li>
<li><a href="#new_Constraint_new">new Constraint(args)</a></li>
<li><a href="#Constraint+name">.name</a> : <code>string</code></li>
<li><a href="#Constraint+fullName">.fullName</a> : <code>string</code></li>
<li><a href="#Constraint+fullCatalogName">.fullCatalogName</a> : <code>string</code></li>
<li><a href="#Constraint+type">.type</a> : <code>contsraintType</code></li>
<li><a href="#Constraint+child">.child</a> : <code>Table</code></li>
<li><a href="#Constraint+table">.table</a> : <code>Table</code></li>
<li><a href="#Constraint+db">.db</a> : <code>DB</code></li>
<li><a href="#Constraint+schema">.schema</a> : <code>Schema</code></li>
<li><a href="#Constraint+onUpdate">.onUpdate</a> : <code>constraintRule</code> &#124; <code>null</code></li>
<li><a href="#Constraint+onDelete">.onDelete</a> : <code>constraintRule</code> &#124; <code>null</code></li>
<li><a href="#Constraint+referencedTable">.referencedTable</a> : <code>Table</code> &#124; <code>null</code></li>
<li><a href="#Constraint+parent">.parent</a> : <code>Table</code> &#124; <code>null</code></li>
<li><a href="#Constraint+columns">.columns</a> : <code>Array.&lt;Column&gt;</code> &#124; <code>null</code></li>
<li><a href="#Constraint+columnsByName">.columnsByName</a> : <code>Object.&lt;string, Column&gt;</code> &#124; <code>null</code></li>
</ul>
<p><a name="new_Constraint_new"></a></p>
<h3 id="new-constraintargs">new Constraint(args)</h3>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>args</td>
<td><code>Object</code></td>
<td>Constraint arguments.</td>
</tr>
<tr>
<td>args.registry</td>
<td><code>Loki</code></td>
<td>Loki.js database object.</td>
</tr>
<tr>
<td>args.attributes</td>
<td><code>Object</code></td>
<td>Attributes of the <a href="#Constraint">Constraint</a> instance.</td>
</tr>
</tbody>
</table>
<p><a name="Constraint+name"></a></p>
<h3 id="constraintname-string">constraint.name : <code>string</code></h3>
<p>Name of the constraint.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+fullName"></a></p>
<h3 id="constraintfullname-string">constraint.fullName : <code>string</code></h3>
<p>Full name of the <a href="#Constraint">constraint</a> with (.) notation.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<strong>Example</strong>  </p>
<pre><code class="js">var fullName = constraint.fullName; // crm.public
</code></pre>

<p><a name="Constraint+fullCatalogName"></a></p>
<h3 id="constraintfullcatalogname-string">constraint.fullCatalogName : <code>string</code></h3>
<p>Full name of the <a href="#Constraint">constraint</a> with (.) notation including catalog name.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<strong>Example</strong>  </p>
<pre><code class="js">var fullCatalogName = constraint.fullCatalogName; // crm.public
</code></pre>

<p><a name="Constraint+type"></a></p>
<h3 id="constrainttype-contsrainttype">constraint.type : <code>contsraintType</code></h3>
<p>Constraint type. One of <code>PRIMARY KEY</code>, <code>FOREIGN KEY</code> or <code>CHECK</code></p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+child"></a></p>
<h3 id="constraintchild-table">constraint.child : <code>Table</code></h3>
<p>Child <a href="../Table">table</a> of this <a href="#Constraint">constraint</a>.
<strong>Note for foreign key constraints:</strong> Child table is the table which contains foreign key.
In <a href="#exampleSchema">example schema</a> product is a child table (vendor_id FK) of vendor table.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<strong>Example</strong>  </p>
<pre><code class="js">var table = constraint.child;
</code></pre>

<p><a name="Constraint+table"></a></p>
<h3 id="constrainttable-table">constraint.table : <code>Table</code></h3>
<p><a href="../Table">Table</a> which this <a href="#Constraint">constraint</a> belongs to or defined in. <br>
<strong>Note for foreign key constraints:</strong> As usual PostgreSQL defines foreign key constraints in child tables,
where foreign key column is defined, so this is child table for foreign key constraints.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<strong>Example</strong>  </p>
<pre><code class="js">var table = constraint.table;
</code></pre>

<p><a name="Constraint+db"></a></p>
<h3 id="constraintdb-db">constraint.db : <code>DB</code></h3>
<p><a href="../DB">DB</a> this <a href="#Constraint">constraint</a> belongs to.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+schema"></a></p>
<h3 id="constraintschema-schema">constraint.schema : <code>Schema</code></h3>
<p><a href="../Schema">Schema</a> this <a href="#Constraint">constraint</a> belongs to.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+onUpdate"></a></p>
<h3 id="constraintonupdate-constraintrule-null">constraint.onUpdate : <code>constraintRule</code> &#124; <code>null</code></h3>
<p>Update rule for foreign key <a href="#Constraint">constraints</a>. One of <code>CASCADE</code>, <code>SET NULL</code>, <code>SET DEFAULT</code>, <code>RESTRICT</code>, <code>NO ACTION</code>
If this is not a foreign key <a href="#Constraint">constraint</a> this is <code>null</code>.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+onDelete"></a></p>
<h3 id="constraintondelete-constraintrule-null">constraint.onDelete : <code>constraintRule</code> &#124; <code>null</code></h3>
<p>Update rule for foreign key <a href="#Constraint">constraints</a>. One of <code>CASCADE</code>, <code>SET NULL</code>, <code>SET DEFAULT</code>, <code>RESTRICT</code>, <code>NO ACTION</code>
If this is not a foreign key <a href="#Constraint">constraint</a> this is <code>null</code>.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+referencedTable"></a></p>
<h3 id="constraintreferencedtable-table-null">constraint.referencedTable : <code>Table</code> &#124; <code>null</code></h3>
<p>For foreign key <a href="#Constraint">constraints</a> this is <a href="../Table">Table</a> instance this <a href="#Constraint">constraint</a> refers to.
If this is not a foreign key <a href="#Constraint">constraint</a> this is <code>null</code>.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<strong>See</strong>: Aliases <a href="#Constraint+parent">parent</a><br />
<a name="Constraint+parent"></a></p>
<h3 id="constraintparent-table-null">constraint.parent : <code>Table</code> &#124; <code>null</code></h3>
<p>For foreign key <a href="#Constraint">constraints</a> this is <a href="../Table">Table</a> instance this <a href="#Constraint">constraint</a> refers to.
If this is not a foreign key <a href="#Constraint">constraint</a> this is <code>null</code>. <br>
<strong>Please Note:</strong> This is not the <a href="../Table">Table</a> this constraint belongs to or defined in. Parent applies only to
foreign key constraints and for foreign key constraints parent means referenced table not the table it is defined in.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<strong>See</strong></p>
<ul>
<li>Aliases <a href="#Constraint+referencedTable">referencedTable</a></li>
<li>To get <a href="../Table">Table</a> this constraint belongs to or defined in, use <a href="#Constraint+table">table</a>.</li>
</ul>
<p><a name="Constraint+columns"></a></p>
<h3 id="constraintcolumns-arraycolumn-null">constraint.columns : <code>Array.&lt;Column&gt;</code> &#124; <code>null</code></h3>
<p>List of <a href="../Column">columns</a> restricted by <a href="#Constraint">constraint</a>, in order their ordinal position
within the constraint key. If <a href="#Constraint">constraint</a> does not have any <a href="../Column">columns</a> this is <code>null</code>.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true<br />
<a name="Constraint+columnsByName"></a></p>
<h3 id="constraintcolumnsbyname-objectstring-column-null">constraint.columnsByName : <code>Object.&lt;string, Column&gt;</code> &#124; <code>null</code></h3>
<p>List of columns restricted by <a href="#Constraint">constraint</a>, in order their ordinal position within the constraint key.
If <a href="#Constraint">constraint</a> does not have any columns this is <code>null</code>.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#Constraint">Constraint</a></code><br />
<strong>Read only</strong>: true  </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../DB/" class="btn btn-neutral float-right" title="DB"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Column/" class="btn btn-neutral" title="Column"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>© Özüm Eldoğan</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Column/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../DB/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
